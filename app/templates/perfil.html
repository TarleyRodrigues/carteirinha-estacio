{% extends "base.html" %}

{% block page_css %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/perfil.css') }}">
{% endblock %}

{% block content %}
<div class="profile-container">
    <h2>Meu Perfil</h2>

    <!-- Bloco para exibir mensagens de sucesso/erro -->
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="alert alert-{{ category }}" style="margin-bottom: 1.5rem;">
                    {{ message }}
                </div>
            {% endfor %}
        {% endif %}
    {% endwith %}

    <div class="profile-card">
        <div class="profile-picture-large">
            <img src="{{ aluno.foto_url or url_for('static', filename='img/placeholder-foto.png') }}" alt="Foto de Perfil">
        </div>
        <div class="profile-details">
            <p><strong>Nome Completo:</strong> {{ aluno.nome }}</p>
            <p><strong>Matr√≠cula:</strong> {{ aluno.matricula }}</p>
            <p><strong>CPF:</strong> {{ aluno.cpf }}</p>
            <p><strong>Data de Nascimento:</strong> {{ aluno.data_nascimento }}</p>
        </div>
        <div class="profile-actions">
            <a href="{{ url_for('main.editar_perfil') }}" class="btn btn-secondary">Editar Dados</a>
            <a href="{{ url_for('main.alterar_senha') }}" class="btn btn-secondary">Alterar Senha</a>
            <a href="{{ url_for('main.upload_foto_perfil') }}" class="btn btn-secondary">Alterar Foto</a>
        </div>
    </div>
    <div class="back-link">
        <a href="{{ url_for('main.menu') }}">Voltar ao Menu</a>
    </div>
</div>
{% endblock %}